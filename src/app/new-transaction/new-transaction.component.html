<h2>New Transaction</h2>

<form [formGroup]='newTransactionForm' (ngSubmit)='onSubmit(newTransactionForm.value)'>
  <mat-radio-group aria-label="Select an option" formControlName='type' [(ngModel)]='chosenType'>
    <mat-radio-button *ngFor='let type of types' [value]='type'>{{type}}</mat-radio-button>
  </mat-radio-group>
  <br>
  <mat-form-field appearance="standard" color="primary">
    <mat-label>Who</mat-label>
    <mat-select formControlName='who' required>
      <mat-option *ngFor='let person of people' [value]='person'>{{person}}</mat-option>
    </mat-select>
  </mat-form-field>
  <br>
  <mat-form-field appearance='standard' color='primary'>
    <mat-label>Category</mat-label>

    <!-- TODO: Get list of categories from file/DB, and allow new ones -->
    <mat-select formControlName='category' required>
      <mat-option *ngFor='let category of categories' [value]='category'>{{category}}</mat-option>
    </mat-select>
  </mat-form-field>
  <br>
  <mat-form-field appearance='standard' color='primary'>
    <mat-label>Title</mat-label>
    <input matInput formControlName='title' required>
  </mat-form-field>
  <br>
  <mat-form-field>
    <mat-label>When?</mat-label>
    <input matInput [matDatepicker]='picker' formControlName='date' required>
    <mat-datepicker-toggle matSuffix [for]='picker'></mat-datepicker-toggle>
    <mat-datepicker #picker></mat-datepicker>
  </mat-form-field>
  <br>
  <mat-form-field>
    <mat-label>Value</mat-label>
    <input matInput type='number' formControlName='value' required>
  </mat-form-field>
  <br>
  <mat-form-field appearance='standard'>
    <mat-label>Notes</mat-label>
    <textarea matInput formControlName='notes'></textarea>
  </mat-form-field>
  <br>
  <button mat-raised-button color='primary' type='submit'>Submit</button>
</form>
